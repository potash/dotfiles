set mbox_type   = Maildir
set folder      = ~/mail
set spoolfile   ="+INBOX"
set header_cache=~/.cache/mutt
source ~/.mutt/mailboxes
 
# mark duplicates for deletion
folder-hook . push "<delete-pattern>~=<enter>"
# collapse threads by default
folder-hook . "exec collapse-all"
# narrow tree
set narrow_tree=yes

source "gpg -dq /home/eric/.passwd/muttrc.gpg |"

#set spoolfile = imaps://eric@k2co3.net@imap.zoho.com:993/INBOX

set realname="Eric Potash"
set from="eric@k2co3.net"
alternates "(eric|all|grads)@math.northwestern.edu|eric@k2co3.net"
set reverse_name=yes
set use_from=yes
set smtp_url=smtps://eric@k2co3.net@smtp.zoho.com:465

set pager_index_lines="15" 
set date_format="%y-%m-%d %T"
set index_format="%2C | %Z [%d] %-30.30F (%-4.4c) %s"

set record="/dev/null"
set sort=reverse-threads
set sort_aux=last-date-received

# aliases
set alias_file = "~/.mutt/aliases"
set sort_alias = alias
set reverse_alias = yes
source $alias_file
# create alias on message open: http://wcm1.web.rice.edu/mutt-tips.html
set display_filter=~/code/scripts/create_alias.sh 

# html
set mailcap_path 	= ~/.mutt/mailcap
auto_view text/html
alternative_order text/plain text/html

set wait_key=no

# filters
macro index .i  "<limit>(~N|~F)<Enter>"  "view new/flag"
macro index .a  "<limit>~A<Enter>"       "view all"
macro index .d  "<limit>(~D)<Enter>" 	 "view deleted
macro index .t  "<limit>~t $from<Enter>"       "view to"
#macro index .f  "<limit>~f $from<Enter>"       "view from"
macro index V 	"<collapse-all>" 		 "collapse all threads
macro index .n  "<change-folder> = mail/News<enter>"  "go to News folder"
macro index .m  "<change-folder> = mail/INBOX<enter>"  "go to INBOX folder"
macro index .f  "<change-folder> = mail/Sent<enter>"  "go to Sent folder"
bind index q noop # unbind q quit keybinding, use ^c instead

macro index,pager $ "<sync-mailbox><enter><shell-escape>echo \"vicious.force({mailwidget})\" | awesome-client<enter>" "save maildir" 

# forward with attachemnts
#set mime_forward=yes
#set mime_forward_rest=yes

# save sent in inbox for threading
folder-hook . 'set record="^"'
unset fcc_attach

set markers=no	# do not wrap multiline urls
set smart_wrap	# do not wrap midword

source ~/.mutt/crypto
